{"version":3,"sources":["features/appSlice.js","config/firebase.js","Components/SidebarChannel.js","features/userSlice.js","Components/Sidebar.js","Components/ChatHeader.js","Components/Message.js","Components/Chat.js","Components/Login.js","screens/App.js","app/store.js","serviceWorker.js","index.js"],"names":["appSlice","createSlice","name","initialState","channelId","channelName","reducers","setChannelInfo","state","action","payload","actions","selectChannelId","app","selectChannelName","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","SidebarChannel","id","dispatch","useDispatch","useState","edit","setEdit","value","setValue","editChannelName","e","a","window","event","cancelBubble","stopPropagation","console","log","channelRef","collection","doc","set","runTransaction","t","get","newPopulation","data","population","update","className","Input","onChange","val","currentTarget","Tooltip","title","onClick","EditOutlined","userSlice","user","login","logout","selectUser","Sidebar","useSelector","channels","setChannels","useEffect","onSnapshot","snapShot","docs","map","channel","prompt","add","SignalCellularAlt","fontSize","InfoOutlined","Call","Avatar","src","photo","displayName","uid","Mic","Headset","ExitToApp","titleAccess","style","cursor","signOut","ChatHeader","Notifications","EditLocationRounded","PeopleAltRounded","placeholder","SearchOutlined","SendRounded","HelpRounded","Message","message","timestamp","Date","toDate","toUTCString","Chat","input","setInput","messages","setMessages","orderBy","snapshot","AddCircle","target","preventDefault","FieldValue","serverTimestamp","type","CardGiftcard","Gif","EmojiEmotions","Login","onAuthStateChanged","authUser","photoURL","email","alt","Button","signInWithPopup","catch","err","App","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","text","configureStore","reducer","userReducer","appReducer","Boolean","location","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fe9a6e2c.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const appSlice = createSlice({\r\n  name: \"app\",\r\n  initialState: {\r\n    channelId: null,\r\n    channelName: null,\r\n  },\r\n  reducers: {\r\n    setChannelInfo: (state, action) => {\r\n      state.channelId = action.payload.channelId;\r\n      state.channelName = action.payload.channelName;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setChannelInfo } = appSlice.actions;\r\n\r\nexport const selectChannelId = (state) => state.app.channelId;\r\nexport const selectChannelName = (state) => state.app.channelName;\r\n\r\nexport default appSlice.reducer;\r\n","import firebase from \"firebase\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAKpwgc67ePNVC8IqaiGvSAonsB5xYII3I\",\n  authDomain: \"discord-clone-72cf6.firebaseapp.com\",\n  projectId: \"discord-clone-72cf6\",\n  storageBucket: \"discord-clone-72cf6.appspot.com\",\n  messagingSenderId: \"895733720231\",\n  appId: \"1:895733720231:web:ce372aca78630dfa596782\",\n  measurementId: \"G-BRS8JSFNQ8\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { auth, provider };\nexport default db;\n","import { Tooltip } from \"@material-ui/core\";\nimport { EditOutlined } from \"@material-ui/icons\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setChannelInfo } from \"../features/appSlice\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Input from \"@material-ui/core/Input\";\nimport db from \"../config/firebase\";\n\nconst SidebarChannel = ({ id, channelName }) => {\n  const dispatch = useDispatch();\n  const [edit, setEdit] = useState(false);\n  const [value, setValue] = useState(channelName);\n  const editChannelName = async (e) => {\n    if (!e) var e = window.event;\n    e.cancelBubble = true;\n    if (e.stopPropagation) e.stopPropagation();\n    console.log(`save object`);\n    const channelRef = db.collection(\"channels\").doc(id);\n    await channelRef.set({\n      channelName: value,\n    });\n    try {\n      await db.runTransaction(async (t) => {\n        const doc = await t.get(channelRef);\n        const newPopulation = doc.data().population + 1;\n        t.update(channelRef, { population: newPopulation });\n      });\n\n      console.log(\"Transaction success!\");\n    } catch (e) {\n      console.log(\"Transaction failure:\", e);\n    }\n  };\n  return edit ? (\n    <div className=\"sidebarChannel\">\n      <Input\n        value={value}\n        onChange={(val) => setValue(val.currentTarget.value)}\n      />\n      :\n      <Tooltip title=\"Save\">\n        <SaveIcon onClick={(e) => editChannelName(e)} />\n      </Tooltip>\n    </div>\n  ) : (\n    <div\n      onClick={() => dispatch(setChannelInfo({ channelId: id, channelName }))}\n      className=\"sidebarChannel\"\n    >\n      <h4>\n        <span className=\"sidebarChannel__hash\">#</span>\n        {channelName}\n      </h4>\n      <Tooltip title=\"Edit\">\n        <EditOutlined\n          onClick={(e) => {\n            if (!e) var e = window.event;\n            e.cancelBubble = true;\n            if (e.stopPropagation) e.stopPropagation();\n            console.log(`edit object`);\n            setEdit(true);\n          }}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default SidebarChannel;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    user: null,\r\n  },\r\n  reducers: {\r\n    login: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { login, logout } = userSlice.actions;\r\n\r\nexport const selectUser = (state) => state.user.user;\r\n\r\nexport default userSlice.reducer;\r\n","import React, { useEffect, useState } from \"react\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SidebarChannel from \"./SidebarChannel\";\nimport {\n  Call,\n  ExitToApp,\n  Headset,\n  InfoOutlined,\n  // MeetingRoom,\n  Mic,\n  // Settings,\n  SignalCellularAlt,\n} from \"@material-ui/icons\";\nimport { Avatar } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../features/userSlice\";\nimport db, { auth } from \"../config/firebase\";\nconst Sidebar = () => {\n  const user = useSelector(selectUser);\n  const [channels, setChannels] = useState([]);\n  useEffect(() => {\n    db.collection(\"channels\").onSnapshot((snapShot) => {\n      setChannels(\n        snapShot.docs.map((doc) => ({\n          id: doc.id,\n          channel: doc.data(),\n        }))\n      );\n    });\n  }, []);\n\n  const handleAddChannel = () => {\n    const channelName = prompt(\"Enter a new channel name :\");\n    if (channelName) {\n      db.collection(\"channels\").add({\n        channelName,\n      });\n    }\n  };\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__top\">\n        <h3>Clever programmer </h3>\n        <ExpandMoreIcon />\n      </div>\n      <div className=\"sidebar__channels\">\n        <div className=\"sidebar__channelHeader\">\n          <div className=\"sidebar__header\">\n            <ExpandMoreIcon />\n            <h4>text channel</h4>\n          </div>\n          <AddIcon onClick={handleAddChannel} className=\"sidebar__addChannel\" />\n        </div>\n        <div className=\"sidebar__channelsList\">\n          {channels.map(({ id, channel }) => (\n            <SidebarChannel\n              key={id}\n              id={id}\n              channelName={channel.channelName}\n            />\n          ))}\n        </div>\n      </div>\n      <div className=\"sidebar__voice\">\n        <SignalCellularAlt className=\"sidebar__voice__icon\" fontSize=\"large\" />\n        <div className=\"sidebar__voice__info\">\n          <h3>Voice connected</h3>\n          <p>Stream</p>\n        </div>\n        <div className=\"sidebar__voice__icons\">\n          <InfoOutlined />\n          <Call />\n        </div>\n      </div>\n      <div className=\"sidebar__profile\">\n        <Avatar src={user.photo} />\n        <div className=\"sidebar__profile__info\">\n          <h3>{user.displayName}</h3>\n          <p>{user.uid}</p>\n        </div>\n        <div className=\"sidebar__profile__icons\">\n          <Mic />\n          <Headset />\n          <ExitToApp\n            titleAccess=\"logout\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() => auth.signOut()}\n          />\n          {/*  <Settings /> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import {\n  EditLocationRounded,\n  HelpRounded,\n  Notifications,\n  PeopleAltRounded,\n  SearchOutlined,\n  SendRounded,\n} from \"@material-ui/icons\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst ChatHeader = ({ channelName }) => {\n  return (\n    <div className=\"chatHeader\">\n      <div className=\"chatHeader__left\">\n        <h3>\n          <span className=\"chatHeader__left__hash\">#</span>\n          {channelName}\n        </h3>\n      </div>\n      <div className=\"chatHeader__right\">\n        <Notifications />\n        <EditLocationRounded />\n        <PeopleAltRounded />\n        <div className=\"chatHeader__right__search\">\n          <input placeholder=\"search\" />\n          <SearchOutlined />\n        </div>\n        <SendRounded />\n        <HelpRounded />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatHeader;\n","import { Avatar } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst Message = ({ message, user, timestamp }) => {\n  return (\n    <div className=\"message\">\n      <Avatar src={user.photo} />\n      <div className=\"message__info\">\n        <h4>\n          {user.displayName}\n          <span className=\"message__info__timestamp\">\n            {new Date(timestamp?.toDate()).toUTCString()}\n          </span>\n        </h4>\n        <p>{message}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","import {\n  AddCircle,\n  CardGiftcard,\n  EmojiEmotions,\n  Gif,\n} from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport db from \"../config/firebase\";\nimport { selectChannelId, selectChannelName } from \"../features/appSlice\";\nimport { selectUser } from \"../features/userSlice\";\nimport ChatHeader from \"./ChatHeader\";\nimport Message from \"./Message\";\nimport firebase from \"firebase\";\n\nconst Chat = () => {\n  const user = useSelector(selectUser);\n  console.log(\"user\", user);\n  const channelName = useSelector(selectChannelName);\n  const channelId = useSelector(selectChannelId);\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  console.log(\"messages\", messages);\n  console.log(\"channelId\", channelId);\n  useEffect(() => {\n    if (channelId) {\n      console.log(\"useEffect\");\n      db.collection(\"channels\")\n        .doc(channelId)\n        .collection(\"messages\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot((snapshot) => {\n          console.log(\"snapshot\", snapshot);\n          return setMessages(snapshot.docs.map((doc) => doc.data()));\n        });\n    }\n  }, [channelId]);\n  const sendMessage = (e) => {\n    e.preventDefault();\n    db.collection(\"channels\").doc(channelId).collection(\"messages\").add({\n      message: input,\n      user,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n\n    setInput(\"\");\n  };\n  return (\n    <div className=\"chat\">\n      <ChatHeader channelName={channelName} />\n      <div className=\"chat__messages\">\n        {messages.map((message) => (\n          <Message\n            timestamp={message.timestamp}\n            user={message.user}\n            message={message.message}\n          />\n        ))}\n      </div>\n      <div className=\"chat__input\">\n        <AddCircle fontSize=\"larger\" />\n        <form className=\"chat__input__form\">\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder={`Message  #${channelName || \"\"}`}\n          />\n          <button\n            // disabled={!channelId}\n            onClick={sendMessage}\n            className=\"chat__inputButton\"\n            type=\"submit\"\n          >\n            Send message\n          </button>\n        </form>\n        <div className=\"chat__inputIcons\">\n          <CardGiftcard fontSize=\"larger\" />\n          <Gif fontSize=\"larger\" />\n          <EmojiEmotions fontSize=\"larger\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import { Button } from \"@material-ui/core\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { auth, provider } from \"../config/firebase\";\nimport { login, logout } from \"../features/userSlice\";\n\nconst Login = () => {\n  const signin = () => {\n    //google login\n    auth.signInWithPopup(provider).catch((err) => console.log(\"err\", err));\n  };\n  const dispatch = useDispatch();\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"authUser\", authUser);\n      if (authUser) {\n        dispatch(\n          login({\n            uid: authUser.id || \"\",\n            photo: authUser.photoURL,\n            email: authUser.email,\n            displayName: authUser.displayName,\n          })\n        );\n      } else {\n        dispatch(logout());\n      }\n    });\n  }, [dispatch]);\n  return (\n    <div className=\"login\">\n      <div className=\"login__logo\">\n        <img\n          src=\"https://1000logos.net/wp-content/uploads/2020/10/Discord-logo.png\"\n          alt=\"discord_logo\"\n        />\n      </div>\n      <Button className=\"login__button\" onClick={signin}>\n        Sign in\n      </Button>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\r\nimport Sidebar from \"../Components/Sidebar\";\r\nimport Chat from \"../Components/Chat\";\r\nimport { selectUser } from \"../features/userSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Login from \"../Components/Login\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser);\r\n  const theme = createMuiTheme();\r\n  console.log(`theme`, theme);\r\n  theme.palette.primary = {\r\n    light: \"#757ce8\",\r\n    main: \"#808080\",\r\n    dark: \"#808080\",\r\n    contrastText: \"#ffffff\",\r\n  };\r\n  theme.palette.secondary = {\r\n    light: \"#ff7961\",\r\n    main: \"#f44336\",\r\n    dark: \"#ba000d\",\r\n    contrastText: \"#ffffff\",\r\n  };\r\n  theme.palette.text.primary = \"rgb(128,128,128)\";\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <div className=\"app\">\r\n        {user ? (\r\n          <>\r\n            <Sidebar />\r\n            <Chat />\r\n          </>\r\n        ) : (\r\n          <Login />\r\n        )}\r\n      </div>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport userReducer from \"../features/userSlice\";\r\nimport appReducer from \"../features/appSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    user: userReducer,\r\n    app: appReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n//import './index.css';\r\nimport App from \"./screens/App\";\r\nimport store from \"./app/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./assets/scss/core.scss\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}